* nixcfg

=home-manager= and NixOS configs for my machines.

** Bootstrapping
From a fresh macOS install:

1. Configure SSH keys with GitHub access
2. Run detsys installer:
   #+begin_src shell
     curl --proto '=https' --tlsv1.2 -sSf -L https://install.determinate.systems/nix | sh -s -- install
   #+end_src
3. Clone repo: =nix run nixpkgs#git -- clone git@github.com:ametzger/nixcfg.git=
4. Set macOS hostname:
   #+begin_src
     export NEW_HOSTNAME='<hostname>'
     sudo scutil --set HostName "$NEW_HOSTNAME"
     sudo scutil --set LocalHostName "$NEW_HOSTNAME"
     sudo scutil --set ComputerName "$NEW_HOSTNAME"
   #+end_src

   Once this is done, reboot the machine.
5. Add line to =flake.nix= for the new hostname, so =homeConfigurations."$NEW_HOSTNAME"= exists
6. Setup home-manager and activate the profile: =nix run nixpkgs#just -- home=
